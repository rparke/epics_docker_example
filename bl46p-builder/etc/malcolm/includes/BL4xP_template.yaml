- builtin.parameters.string:
    name: rig_number
    description: Identifier number of Test Rig (e.g. 47 for p47-pw001)

- builtin.defines.string:
    name: config_dir
    value: /dls_sw/p$(rig_number)/epics/malcolm

- builtin.defines.string:
    name: beamline
    value: BL$(rig_number)P

# Motion Controller
- TestRigs.blocks.pmac_manager_block:
    mri_prefix: $(beamline)-ML-BRICK-01
    config_dir: $(config_dir)
    beamline: $(beamline)

# Detectors
- aravisGigE.blocks.aravisGigE_runnable_block:
    pv_prefix: $(beamline)-EA-DET-01
    mri_prefix: $(beamline)-ML-DET-01
    config_dir: $(config_dir)

- ADPandABlocks.blocks.panda_runnable_block:
    pv_prefix: $(beamline)-MO-PANDA-01
    mri_prefix: $(beamline)-ML-PANDA-01
    hostname: 192.168.250.18
    config_dir: $(config_dir)

# Define the Scans
- TestRigs.blocks.scan_block:
    mri_prefix: $(beamline)-ML-SCAN-01
    beamline: $(beamline)
    config_dir: $(config_dir)
    initial_design: pmac_master_tomo

- scanning.blocks.scan_runner_block:
    mri: $(beamline)-ML-SCAN-RUNNER-01
    scan_block: $(beamline)-ML-SCAN-01
    config_dir: $(config_dir)
    initial_design:

- system.defines.redirector_iocs:
    name: iocs
    yamlname: $(beamline)-ML-MALC-01

- system.blocks.system_block:
    mri_prefix: $(beamline)-ML-MALC-01
    iocs: $(iocs)
    pv_prefix: $(beamline)-ML-MALC-01
    subnet_validation: 0
    config_dir: /tmp

